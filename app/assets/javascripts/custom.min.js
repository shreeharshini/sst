function countChecked() {
    "all" === checkState && $(".bulk_action input[name='table_records']").iCheck("check"), "none" === checkState && $(".bulk_action input[name='table_records']").iCheck("uncheck");
    var e = $(".bulk_action input[name='table_records']:checked").length;
    e ? ($(".column-title").hide(), $(".bulk-actions").show(), $(".action-cnt").html(e + " Records Selected")) : ($(".column-title").show(), $(".bulk-actions").hide())
}
var CURRENT_URL = window.location.href.split("?")[0],
    $BODY = $("body"),
    $MENU_TOGGLE = $("#menu_toggle"),
    $SIDEBAR_MENU = $("#sidebar-menu"),
    $SIDEBAR_FOOTER = $(".sidebar-footer"),
    $LEFT_COL = $(".left_col"),
    $RIGHT_COL = $(".right_col"),
    $NAV_MENU = $(".nav_menu"),
    $FOOTER = $("footer");
$(document).ready(function() {
    var e = function() {
        $RIGHT_COL.css("min-height", $(window).height());
        var e = $BODY.outerHeight(),
            t = $BODY.hasClass("footer_fixed") ? 0 : $FOOTER.height(),
            n = $LEFT_COL.eq(1).height() + $SIDEBAR_FOOTER.height(),
            i = n > e ? n : e;
        i -= $NAV_MENU.height() + t, $RIGHT_COL.css("min-height", i)
    };
    $SIDEBAR_MENU.find("a").on("click", function(t) {
        var n = $(this).parent();
        n.is(".active") ? (n.removeClass("active active-sm"), $("ul:first", n).slideUp(function() {
            e()
        })) : (n.parent().is(".child_menu") || ($SIDEBAR_MENU.find("li").removeClass("active active-sm"), $SIDEBAR_MENU.find("li ul").slideUp()), n.addClass("active"), $("ul:first", n).slideDown(function() {
            e()
        }))
    }), $MENU_TOGGLE.on("click", function() {
        $BODY.hasClass("nav-md") ? ($SIDEBAR_MENU.find("li.active ul").hide(), $SIDEBAR_MENU.find("li.active").addClass("active-sm").removeClass("active")) : ($SIDEBAR_MENU.find("li.active-sm ul").show(), $SIDEBAR_MENU.find("li.active-sm").addClass("active").removeClass("active-sm")), $BODY.toggleClass("nav-md nav-sm"), e()
    }), $SIDEBAR_MENU.find('a[href="' + CURRENT_URL + '"]').parent("li").addClass("current-page"), $SIDEBAR_MENU.find("a").filter(function() {
        return this.href == CURRENT_URL
    }).parent("li").addClass("current-page").parents("ul").slideDown(function() {
        e()
    }).parent().addClass("active"), $(window).smartresize(function() {
        e()
    }), e(), $.fn.mCustomScrollbar && $(".menu_fixed").mCustomScrollbar({
        autoHideScrollbar: !0,
        theme: "minimal",
        mouseWheel: {
            preventDefault: !0
        }
    })
}), $(document).ready(function() {
    $(".collapse-link").on("click", function() {
        var e = $(this).closest(".x_panel"),
            t = $(this).find("i"),
            n = e.find(".x_content");
        e.attr("style") ? n.slideToggle(200, function() {
            e.removeAttr("style")
        }) : (n.slideToggle(200), e.css("height", "auto")), t.toggleClass("fa-chevron-up fa-chevron-down")
    }), $(".close-link").click(function() {
        var e = $(this).closest(".x_panel");
        e.remove()
    })
}), $(document).ready(function() {
    $('[data-toggle="tooltip"]').tooltip({
        container: "body"
    })
}), $(".progress .progress-bar")[0] && $(".progress .progress-bar").progressbar(), $(document).ready(function() {
    if ($(".js-switch")[0]) {
        var e = Array.prototype.slice.call(document.querySelectorAll(".js-switch"));
        e.forEach(function(e) {
            new Switchery(e, {
                color: "#26B99A"
            })
        })
    }
}), $(document).ready(function() {
    $("input.flat")[0] && $(document).ready(function() {
        $("input.flat").iCheck({
            checkboxClass: "icheckbox_flat-green",
            radioClass: "iradio_flat-green"
        })
    })
}), $("table input").on("ifChecked", function() {
    checkState = "", $(this).parent().parent().parent().addClass("selected"), countChecked()
}), $("table input").on("ifUnchecked", function() {
    checkState = "", $(this).parent().parent().parent().removeClass("selected"), countChecked()
});
var checkState = "";
$(".bulk_action input").on("ifChecked", function() {
        checkState = "", $(this).parent().parent().parent().addClass("selected"), countChecked()
    }), $(".bulk_action input").on("ifUnchecked", function() {
        checkState = "", $(this).parent().parent().parent().removeClass("selected"), countChecked()
    }), $(".bulk_action input#check-all").on("ifChecked", function() {
        checkState = "all", countChecked()
    }), $(".bulk_action input#check-all").on("ifUnchecked", function() {
        checkState = "none", countChecked()
    }), $(document).ready(function() {
        $(".expand").on("click", function() {
            $(this).next().slideToggle(200), $expand = $(this).find(">:first-child"), "+" == $expand.text() ? $expand.text("-") : $expand.text("+")
        })
    }), "undefined" != typeof NProgress && ($(document).ready(function() {
        NProgress.start()
    }), $(window).load(function() {
        NProgress.done()
    })),
    function(e, t) {
        var n = function(e, t, n) {
            var i;
            return function() {
                function c() {
                    n || e.apply(a, o), i = null
                }
                var a = this,
                    o = arguments;
                i ? clearTimeout(i) : n && e.apply(a, o), i = setTimeout(c, t || 100)
            }
        };
        jQuery.fn[t] = function(e) {
            return e ? this.bind("resize", n(e)) : this.trigger(t)
        }
    }(jQuery, "smartresize");
    
    
    
    
    
    
    
    
    
    
    
    
    /*hight chart start*/
    
$(function () {
   new  Highcharts.chart('container1', {
        chart: {
            type: 'spline'
        },
        title: {
            text: 'Year Trend',
            x: -20 //center
        },
        subtitle: {
            text: '',
            x: -20
        },
        xAxis: {
            categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']
        },
        yAxis: {
            title: {
                text: 'Successful full-text requests'
            },
            plotLines: [{
                value: 0,
                width: 1,
                color: '#808080'
            }]
        },
        tooltip: {
            valueSuffix: ''
        },
        plotOptions: {
            spline: {
                marker: {
                    radius: 4,
                    lineColor: '#666666',
                    lineWidth: 1
                }
            }
        },
        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle',
            borderWidth: 0
        },
        series: [{
            name: '2016',
            marker: {
                symbol: 'square'
            },
            data: [
            <% @highsplinechart1.each do |f| %>
                <%= f.abcd %>
            <%end%>,
            <% @highsplinechart2.each do |f| %>
                <%= f.abcd %>
            <%end%>
             ,
             <% @highsplinechart3.each do |f| %>
                <%= f.abcd %>
            <%end%> , 
            <% @highsplinechart4.each do |f| %>
                <%= f.abcd %>
            <%end%>, 
            <% @highsplinechart5.each do |f| %>
                <%= f.abcd %>
            <%end%>, 
            <% @highsplinechart6.each do |f| %>
                <%= f.abcd %>
            <%end%>, 
            <% @highsplinechart7.each do |f| %>
                <%= f.abcd %>
            <%end%>,
            <% @highsplinechart8.each do |f| %>
                <%= f.abcd %>
            <%end%> ,
            <% @highsplinechart9.each do |f| %>
                <%= f.abcd %>
            <%end%>, 
            <% @highsplinechart10.each do |f| %>
                <%= f.abcd %>
            <%end%>, 
            <% @highsplinechart11.each do |f| %>
                <%= f.abcd %>
            <%end%>,
            <% @highsplinechart12.each do |f| %>
                <%= f.abcd %>
            <%end%>]
        },  {
            name: '2015',
            marker: {
                symbol: 'diamond'
            },
            data: [
            <% @highspline1.each do |f| %>
                <%= f.abcd %>
            <%end%>,
            <% @highspline2.each do |f| %>
                <%= f.abcd %>
            <%end%>
             ,
             <% @highspline3.each do |f| %>
                <%= f.abcd %>
            <%end%> , 
            <% @highspline4.each do |f| %>
                <%= f.abcd %>
            <%end%>, 
            <% @highspline5.each do |f| %>
                <%= f.abcd %>
            <%end%>, 
            <% @highspline6.each do |f| %>
                <%= f.abcd %>
            <%end%>, 
            <% @highspline7.each do |f| %>
                <%= f.abcd %>
            <%end%>,
            <% @highspline8.each do |f| %>
                <%= f.abcd %>
            <%end%> ,
            <% @highspline9.each do |f| %>
                <%= f.abcd %>
            <%end%>, 
            <% @highspline10.each do |f| %>
                <%= f.abcd %>
            <%end%>, 
            <% @highspline11.each do |f| %>
                <%= f.abcd %>
            <%end%>,
            <% @highspline12.each do |f| %>
                <%= f.abcd %>
            <%end%>]
        }]
    });
});







/*pie chart start*/

$(function () {
   new  Highcharts.chart('container', {
        chart: {
            plotBackgroundColor: null,
            plotBorderWidth: null,
            plotShadow: false,
            type: 'pie'
        },
        title: {
            text: 'Browser market shares January, 2015 to May, 2015'
        },
        tooltip: {
            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
        },
        plotOptions: {
            pie: {
                allowPointSelect: true,
                cursor: 'pointer',
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b>: {point.percentage:.1f} %',
                    style: {
                        color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                    }
                }
            }
        },
        series: [{
            name: 'Brands',
            colorByPoint: true,
            data: [
            <% @this_usage.each do |f| %>
              {
                
                name: '<%= f.Report_Type %>',
                y: <%= f.abcd %>
              },
                              <%end%>


              

            ]
        }]
    });
});





<!--journal start-->


$(function () {
    // Create the chart
    $('#journal2').highcharts({
        chart: {
            type: 'column'
        },
        title: {
            text: 'Top 10 Journal Titles'
        },
        subtitle: {
            text: 'Click the columns to view versions. '
        },
        xAxis: {
            type: 'category'
        },
        yAxis: {
            title: {
                text: 'Successful Full-Text Requests'
            }

        },
        legend: {
            enabled: false
        },
        plotOptions: {
            series: {
                borderWidth: 0,
                dataLabels: {
                    enabled: true,
                    format: '{point.y:.1f}'
                }
            }
        },

        tooltip: {
            headerFormat: '<span style="font-size:11px">{series.name}</span><br>',
            pointFormat: '<span style="color:{point.color}">{point.name}</span>: <b>{point.y:.2f}</b> of total<br/>'
        },

        series: [{
            name: 'Brands',
            colorByPoint: true,
            data: [{
                name: 'Sciences',
                y: 23220,
                drilldown: 'Sciences'
            }, {
                name: 'Nature',
                y: 20754,
                drilldown: 'Nature'
            }, {
                name: 'Journals of American Chemical Society',
                y: 17898,
                drilldown: 'Journals of American Chemical Society'
            }, {
                name: 'Nature Communications',
                y: 13045,
                drilldown: 'Nature Communications'
            }, {
                name: 'Angewandte Chemie International Edition',
                y: 10589,
                drilldown: 'Angewandte Chemie International Edition'
            }, {
                name: 'Scientific Reports',
                y: 8874,
                drilldown: 'Scientific Reports'
            },{
                name: 'Nano Letters',
                y: 8338,
                drilldown: 'Nano Letters'
            },{
                name: 'Physical Review B',
                y: 7529,
                drilldown: 'Physical Review B'

            },{
                name: 'Applied Physics Letters',
                y: 7450,
                drilldown: 'Applied Physics Letters'
            },{
                name:'Advanced Materials',
                y: 7186,
                drilldown:'Advanced Materials'
            }]
        }],
        drilldown: {
            series: [{
                name: 'Sciences',
                id: 'Sciences',
                data: [
                    [
                        'Jan',
                        1869
                    ],
                    [
                        'Feb',
                        2045
                    ],
                    [
                        'Mar',
                        2410
                    ],
                    [
                        'April',
                        2516
                    ],
                    [
                        'May',
                        4007
                    ],
                    [
                        'June',
                        1787
                    ],
                    [
                        'July',
                        1898

                    ],
                    [
                        'Aug',
                        1882

                    ],
                    [
                        'Sept',
                        2103
                    ],
                    [
                        'Oct',
                        2703
                    ],
                    [
                        'Nov',
                        0
                    ],
                    [
                        'Dec',
                        0
                    ]
                ]
            }, {
                name: 'Nature',
                id: 'Nature',
                data: [
                    [
                        'Jan',
                        2122
                    ],
                    [
                        'Feb',
                        2047
                    ],
                    [
                        'Mar',
                        2316
                    ],
                    [
                        'April',
                        2190
                    ],
                    [
                        'May',
                        2759
                    ],
                    [
                        'June',
                        1979
                    ],
                    [
                        'July',
                        1588

                    ],
                    [
                        'Aug',
                        1733

                    ],
                    [
                        'Sept',
                        1788
                    ],
                    [
                        'Oct',
                        2232
                    ],
                    [
                        'Nov',
                        0
                    ],
                    [
                        'Dec',
                        0
                    ]
                ]
            }, {
                name: 'Journals of American Chemical Society',
                id: 'Journals of American Chemical Society',
                data: [
                    [
                        'Jan',
                        1638
                    ],
                    [
                        'Feb',
                        1801
                    ],
                    [
                        'Mar',
                        2054
                    ],
                    [
                        'April',
                        2001
                    ],
                    [
                        'May',
                        1929
                    ],
                    [
                        'June',
                        1592
                    ],
                    [
                        'July',
                        1611

                    ],
                    [
                        'Aug',
                        1724

                    ],
                    [
                        'Sept',
                        1532
                    ],
                    [
                        'Oct',
                        2016
                    ],
                    [
                        'Nov',
                        0
                    ],
                    [
                        'Dec',
                        0
                    ]
                ]
            }, {
                name: 'Nature Communications',
                id: 'Nature Communications',
                data: [
                    [
                        'Jan',
                        1040
                    ],
                    [
                        'Feb',
                        1321
                    ],
                    [
                        'Mar',
                        1521
                    ],
                    [
                        'April',
                        1456
                    ],
                    [
                        'May',
                        1309
                    ],
                    [
                        'June',
                        1183
                    ],
                    [
                        'July',
                        1339

                    ],
                    [
                        'Aug',
                        1260

                    ],
                    [
                        'Sept',
                        1372
                    ],
                    [
                        'Oct',
                        1244
                    ],
                    [
                        'Nov',
                        0
                    ],
                    [
                        'Dec',
                        0
                    ]
                ]
            }, {
                name: 'Angewandte Chemie International Edition',
                id: 'Angewandte Chemie International Edition',
                data: [
                    [
                        'Jan',
                        910
                    ],
                    [
                        'Feb',
                        993
                    ],
                    [
                        'Mar',
                        1168
                    ],
                    [
                        'April',
                        1243
                    ],
                    [
                        'May',
                        1102
                    ],
                    [
                        'June',
                        911
                    ],
                    [
                        'July',
                        1053

                    ],
                    [
                        'Aug',
                        1064

                    ],
                    [
                        'Sept',
                        965
                    ],
                    [
                        'Oct',
                        1180
                    
                    ],
                    [
                        'Nov',
                        0
                    ],
                    [
                        'Dec',
                        0
                    ]
                ]
            },{
                name: 'Scientific Reports',
                id: 'Scientific Reports',
                data: [
                   [
                        'Jan',
                        652
                    ],
                    [
                        'Feb',
                        885
                    ],
                    [
                        'Mar',
                        826
                    ],
                    [
                        'April',
                        872
                    ],
                    [
                        'May',
                        970
                    ],
                    [
                        'June',
                        776
                    ],
                    [
                        'July',
                        951

                    ],
                    [
                        'Aug',
                        965

                    ],
                    [
                        'Sept',
                        871
                    ],
                    [
                        'Oct',
                        1106
                    ],
                    [
                        'Nov',
                        0
                    ],
                    [
                        'Dec',
                        0
                    ]
                ]
            },{
                name: 'Nano Letters',
                id: 'Nano Letters',
                data: [
                   [
                        'Jan',
                        702
                    ],
                    [
                        'Feb',
                        893
                    ],
                    [
                        'Mar',
                        841
                    ],
                    [
                        'April',
                        868
                    ],
                    [
                        'May',
                        776
                    ],
                    [
                        'June',
                        797
                    ],
                    [
                        'July',
                        718

                    ],
                    [
                        'Aug',
                        850

                    ],
                    [
                        'Sept',
                        913
                    ],
                   [
                        'Oct',
                        980
                    ],
                    [
                        'Nov',
                        0
                    ],
                    [
                        'Dec',
                        0
                    ]
                ]
            },{
                name: 'Physical Review B',
                id: 'Physical Review B',
                data: [
                   [
                        'Jan',
                        568
                    ],
                    [
                        'Feb',
                        877
                    ],
                    [
                        'Mar',
                        690
                    ],
                    [
                        'April',
                        786
                    ],
                    [
                        'May',
                        510
                    ],
                    [
                        'June',
                        666
                    ],
                    [
                        'July',
                        697

                    ],
                    [
                        'Aug',
                        672

                    ],
                    [
                        'Sept',
                        730
                    ],
                    [
                        'Oct',
                        933
                    ],
                    [
                        'Nov',
                        0
                    ],
                    [
                        'Dec',
                        0
                    ]
                ]

            }]
        }
    });
});